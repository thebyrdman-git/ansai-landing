# Consolidated Setup: Single Repo for Both Sites

## Overview

We've consolidated everything into the `ansai-landing` repository. This repo now contains:

- Landing page (`index.html`, `style.css`, etc.) → serves `ansai.dev`
- Documentation (`docs/`, `mkdocs.yml`) → serves `docs.ansai.dev`

## Repository Structure

```
ansai-landing/
├── index.html              # Landing page
├── style.css
├── script.js
├── docs/                   # MkDocs documentation source
│   ├── index.md
│   ├── get-started/
│   ├── core-concepts/
│   └── ...
├── mkdocs.yml              # MkDocs configuration
├── site/                   # Built documentation (generated by mkdocs build)
├── netlify.toml            # Config for ansai.dev
└── netlify-docs.toml       # Reference config for docs.ansai.dev
```

## Netlify Configuration

You need TWO Netlify sites pointing to the SAME repository:

### Site 1: ansai.dev (Landing Page)
- **Site name**: `ansai` (or whatever the current site name is)
- **Repository**: `thebyrdman-git/ansai-landing`
- **Branch**: `main`
- **Build command**: (leave empty, or use `echo "Landing page ready"`)
- **Publish directory**: `.` (root)
- **Domain**: `ansai.dev`

### Site 2: docs.ansai.dev (Documentation)
- **Site name**: `ansai-enterprise` (the current docs site)
- **Repository**: `thebyrdman-git/ansai-landing` (change from ansai-docs!)
- **Branch**: `main`
- **Build command**: `pip install mkdocs-material mkdocs-git-revision-date-localized-plugin mkdocs-print-site-plugin && mkdocs build`
- **Publish directory**: `site`
- **Domain**: `docs.ansai.dev`

## Steps to Complete Setup

### Step 1: Update the docs.ansai.dev Netlify Site

1. Go to: `https://app.netlify.com/sites/ansai-enterprise/configuration/deploys`
2. Under **"Repository"**, click **"Edit settings"**
3. Click **"Link to a different repository"**
4. Select: `thebyrdman-git/ansai-landing`
5. Under **"Build settings"**:
   - **Build command**: `pip install mkdocs-material mkdocs-git-revision-date-localized-plugin mkdocs-print-site-plugin && python -m mkdocs build`
   - **Publish directory**: `site`
6. Save settings

### Step 2: Push the Consolidated Repo

```bash
cd /home/jbyrd/repos/ansai-landing
git add -A
git commit -m "Consolidate landing page and documentation into single repo"
git push origin main
```

### Step 3: Verify Deployments

Both Netlify sites will deploy:
- `ansai.dev` - landing page should work as-is
- `docs.ansai.dev` - documentation will build and deploy from the `site/` directory

### Step 4: Clean Up (Optional)

Once everything is working, you can:
1. Archive or delete the `ansai-docs` repository
2. Delete the local `/home/jbyrd/ansai/` directory (keep a backup first!)
3. Use `/home/jbyrd/repos/ansai-landing/` as your single source

## Development Workflow

### Update Landing Page
```bash
cd /home/jbyrd/repos/ansai-landing
# Edit index.html, style.css, etc.
git add -A
git commit -m "Update landing page"
git push origin main
```

### Update Documentation
```bash
cd /home/jbyrd/repos/ansai-landing
# Edit files in docs/
git add -A
git commit -m "Update documentation"
git push origin main
# Both sites will rebuild, but only docs will change
```

### Test Documentation Locally
```bash
cd /home/jbyrd/repos/ansai-landing
mkdocs serve
# Visit http://localhost:8000
```

## Benefits

✅ Single repository to maintain  
✅ One place for version control  
✅ Simpler deployment workflow  
✅ Both sites auto-deploy on push  
✅ Documentation source lives with landing page  

## Notes

- The `netlify.toml` in the root is for the landing page site
- The `netlify-docs.toml` is just a reference (not used by Netlify)
- Both sites build from the same repo but publish different directories
- Logo has been removed from documentation (CSS hides any references)

